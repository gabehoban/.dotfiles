#!/bin/bash

echo -e "\\033[1;34mStarting Homebrew Backup...\\033[0m"

echo -e "\\033[1;34m-> (1/4) Brew Update\\033[0m"
brew update &>/tmp/upbrew1.log
echo -e "\\033[1;34m-> (2/4) Brew Upgrade\\033[0m"
brew upgrade &>/tmp/upbrew1.log
echo -e "\\033[1;34m-> (3/4) Brew Cleanup\\033[0m"
brew cleanup &>/tmp/upbrew1.log
echo -e "\\033[1;34m-> (4/4) Brew Cask Upgrade\\033[0m"
brew cask upgrade &>/tmp/upbrew1.log

rm -rdf "$HOME"/.dotfiles/brewfile >/dev/null
brew bundle dump --file="$HOME"/.dotfiles/brewfile

echo -e "\\033[1;34mDone...\\033[0m"
